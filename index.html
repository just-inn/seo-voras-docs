<!DOCTYPE html>
<html lang="en" style="scroll-behavior: smooth;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEOvoras - Article Submission Automation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #2d2d2d;
            color: #ffffff;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Language Switcher */
        .lang-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            gap: 0;
            border-radius: 4px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .lang-btn {
            padding: 12px 20px;
            background: #363636;
            color: #999;
            border: none;
            cursor: pointer;
            font-family: 'Montserrat', sans-serif;
            font-size: 0.85rem;
            font-weight: 500;
            letter-spacing: 1px;
            transition: all 0.2s ease;
        }

        .lang-btn:hover {
            background: #444;
            color: #fff;
        }

        .lang-btn.active {
            background: #8bc34a;
            color: #2d2d2d;
        }

        .lang-en, .lang-lt {
            display: none;
        }

        body.show-en .lang-en {
            display: block;
        }

        body.show-lt .lang-lt {
            display: block;
        }

        body.show-en .lang-en-inline,
        body.show-lt .lang-lt-inline {
            display: inline;
        }

        .lang-en-inline, .lang-lt-inline {
            display: none;
        }

        header {
            text-align: center;
            margin-bottom: 60px;
            padding: 60px 0;
        }

        h1 {
            font-size: 3.5rem;
            color: #ffffff;
            margin-bottom: 15px;
            font-weight: 300;
            letter-spacing: 8px;
            text-transform: uppercase;
        }

        .subtitle {
            font-size: 1.1rem;
            color: #999999;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        section {
            background: #363636;
            border-radius: 4px;
            padding: 35px;
            margin-bottom: 25px;
        }

        section.standalone {
            border-left: 4px solid #8bc34a;
        }

        .section-divider {
            display: flex;
            align-items: center;
            gap: 20px;
            margin: 40px 0;
            color: #666;
            font-size: 0.8rem;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .section-divider::before,
        .section-divider::after {
            content: "";
            flex: 1;
            height: 1px;
            background: linear-gradient(to right, transparent, #555, transparent);
        }

        .executive-summary {
            background: #2a2a2a;
            border: 1px solid #444;
            border-left: 4px solid #8bc34a;
        }

        .executive-summary .lead {
            font-size: 1.1rem;
            color: #ffffff;
            margin-bottom: 25px;
            line-height: 1.7;
        }

        .executive-summary .decisions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }

        .executive-summary .decision-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            color: #bbbbbb;
            font-size: 0.9rem;
        }

        .executive-summary .decision-item::before {
            content: "â†’";
            color: #8bc34a;
            flex-shrink: 0;
        }

        h2 {
            color: #ffffff;
            font-size: 1.3rem;
            margin-bottom: 20px;
            font-weight: 400;
            letter-spacing: 3px;
            text-transform: uppercase;
        }

        h3 {
            color: #cccccc;
            font-size: 1rem;
            margin: 25px 0 12px 0;
            font-weight: 500;
        }

        p {
            line-height: 1.8;
            margin-bottom: 15px;
            color: #cccccc;
        }

        .flow-diagram {
            background: #2d2d2d;
            border-radius: 4px;
            padding: 20px;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            line-height: 1.9;
            margin: 15px 0;
            overflow-x: auto;
            border-left: 3px solid #555;
        }

        .flow-diagram .arrow {
            color: #888;
        }

        .highlight {
            color: #8bc34a;
        }

        .warning {
            color: #ffa726;
        }

        ul {
            list-style: none;
            padding-left: 0;
        }

        ul li {
            padding: 8px 0 8px 25px;
            position: relative;
            color: #cccccc;
        }

        ul li::before {
            content: "â€”";
            position: absolute;
            left: 0;
            color: #666;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }

        th, td {
            padding: 14px 18px;
            text-align: left;
            border-bottom: 1px solid #444;
        }

        th {
            background: #2d2d2d;
            color: #ffffff;
            font-weight: 400;
            letter-spacing: 1px;
            text-transform: uppercase;
            font-size: 0.85rem;
        }

        td {
            color: #cccccc;
        }

        tr:hover {
            background: rgba(255, 255, 255, 0.03);
        }

        .status-badge {
            display: inline-block;
            padding: 8px 20px;
            border-radius: 2px;
            font-size: 0.8rem;
            font-weight: 500;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .status-ready {
            background: #8bc34a;
            color: #2d2d2d;
        }

        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }

        .tech-item {
            background: #2d2d2d;
            padding: 20px 15px;
            border-radius: 4px;
            text-align: center;
        }

        .tech-item .icon {
            font-size: 1.8rem;
            margin-bottom: 12px;
            opacity: 0.9;
        }

        .tech-item div {
            color: #ffffff;
            font-size: 0.9rem;
        }

        .tech-item small {
            color: #888;
            font-size: 0.75rem;
        }

        .cost-total {
            font-size: 1.2rem;
            color: #8bc34a;
            text-align: center;
            padding: 18px;
            background: #2d2d2d;
            border-radius: 4px;
            margin-top: 15px;
            letter-spacing: 1px;
        }

        footer {
            text-align: center;
            padding: 40px;
            color: #666;
            font-size: 0.85rem;
            letter-spacing: 1px;
        }

        .progress-example {
            background: #2d2d2d;
            padding: 15px 20px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
        }

        .progress-example span {
            margin-right: 25px;
            color: #cccccc;
        }

        .check {
            color: #8bc34a;
        }

        .key-decisions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .key-decision {
            background: #2d2d2d;
            padding: 18px;
            border-radius: 4px;
            border-left: 3px solid #8bc34a;
        }

        .key-decision strong {
            color: #ffffff;
            display: block;
            margin-bottom: 8px;
        }

        .key-decision p {
            margin: 0;
            font-size: 0.9rem;
        }

        .workflow-steps {
            display: flex;
            flex-wrap: wrap;
            gap: 0;
            margin: 20px 0 30px 0;
            justify-content: center;
            position: relative;
        }

        .workflow-step {
            background: #2d2d2d;
            padding: 12px 18px;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            color: #cccccc;
            transition: all 0.2s ease;
            border-bottom: 3px solid transparent;
            position: relative;
        }

        .workflow-step:first-child {
            border-radius: 4px 0 0 4px;
        }

        .workflow-step:last-child {
            border-radius: 0 4px 4px 0;
        }

        .workflow-step:not(:last-child)::after {
            content: "";
            position: absolute;
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-left: 6px solid #2d2d2d;
            border-top: 6px solid transparent;
            border-bottom: 6px solid transparent;
            z-index: 1;
        }

        .workflow-step:hover {
            background: #404040;
            border-bottom-color: #8bc34a;
        }

        .workflow-step .num {
            background: #8bc34a;
            color: #2d2d2d;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.75rem;
            flex-shrink: 0;
        }

        .step-section {
            scroll-margin-top: 20px;
        }

        .step-section h3 {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .step-section h3 .step-num {
            background: #8bc34a;
            color: #2d2d2d;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.85rem;
            flex-shrink: 0;
        }

        .ascii-diagram {
            background: #2d2d2d;
            border-radius: 4px;
            padding: 20px;
            font-family: 'Courier New', monospace;
            font-size: 0.75rem;
            line-height: 1.4;
            margin: 20px 0;
            overflow-x: auto;
            white-space: pre;
            border-left: 3px solid #8bc34a;
        }

        @media (max-width: 600px) {
            .lang-switcher {
                top: 10px;
                right: 10px;
            }
            .lang-btn {
                padding: 10px 14px;
                font-size: 0.8rem;
            }
            h1 {
                font-size: 2.5rem;
                letter-spacing: 4px;
            }
            header {
                padding-top: 80px;
            }
        }
    </style>
</head>
<body class="show-en">
    <!-- Language Switcher -->
    <div class="lang-switcher">
        <button class="lang-btn active" id="btn-en" onclick="setLang('en')">EN</button>
        <button class="lang-btn" id="btn-lt" onclick="setLang('lt')">LT</button>
    </div>

    <div class="container">
        <header>
            <h1>SEOvoras</h1>
            <p class="subtitle">
                <span class="lang-en">Article Submission Automation System</span>
                <span class="lang-lt">StraipsniÅ³ pateikimo automatizavimo sistema</span>
            </p>
        </header>

        <!-- EXECUTIVE SUMMARY -->
        <section class="executive-summary">
            <h2>
                <span class="lang-en">Executive Summary</span>
                <span class="lang-lt">Santrauka</span>
            </h2>
            <p class="lead">
                <span class="lang-en">Employees fill article info in their Google Sheets, click "Submit" â†’ system sends emails to publishers with attachments â†’ tracks invoices automatically.</span>
                <span class="lang-lt">Darbuotojai uÅ¾pildo straipsniÅ³ informacijÄ… savo Google Sheets, spaudÅ¾ia "Submit" â†’ sistema siunÄia laiÅ¡kus leidÄ—jams su priedais â†’ automatiÅ¡kai seka sÄ…skaitas.</span>
            </p>
            <div class="decisions">
                <div class="decision-item lang-en">Each employee manages their own sheet (decentralized)</div>
                <div class="decision-item lang-lt">Kiekvienas darbuotojas tvarko savo lentelÄ™ (decentralizuota)</div>
                <div class="decision-item lang-en">All employees share one Gmail account for sending</div>
                <div class="decision-item lang-lt">Visi darbuotojai dalinasi viena Gmail paskyra siuntimui</div>
                <div class="decision-item lang-en">Master Sheet is single source of truth (queue, matching, audit)</div>
                <div class="decision-item lang-lt">PagrindinÄ— lentelÄ— yra vienintelis tiesos Å¡altinis (eilÄ—, suderinimas, auditas)</div>
                <div class="decision-item lang-en">Rate limiting configurable (default 20-30 emails/hour)</div>
                <div class="decision-item lang-lt">Siuntimo ribojimas konfigÅ«ruojamas (numatytai 20-30 laiÅ¡kÅ³/val)</div>
                <div class="decision-item lang-en">Invoice matching by portal totals (not individual articles)</div>
                <div class="decision-item lang-lt">SÄ…skaitÅ³ suderinimas pagal portalo sumas (ne atskirus straipsnius)</div>
                <div class="decision-item lang-en">Gemini AI extracts invoice data from PDFs</div>
                <div class="decision-item lang-lt">Gemini AI iÅ¡traukia sÄ…skaitÅ³ duomenis iÅ¡ PDF</div>
            </div>
            <div class="cost-total" style="margin-top: 25px;">
                <span class="lang-en">Cost: ~â‚¬6-14/month</span>
                <span class="lang-lt">Kaina: ~â‚¬6-14/mÄ—n.</span>
            </div>
        </section>

        <div class="section-divider">
            <span class="lang-en">System Details</span>
            <span class="lang-lt">Sistemos detalÄ—s</span>
        </div>

        <!-- SYSTEM OVERVIEW SECTION -->
        <section>
            <h2>
                <span class="lang-en">System Overview</span>
                <span class="lang-lt">Sistemos apÅ¾valga</span>
            </h2>

            <div class="ascii-diagram">Employee Sheets                      Master Sheet                        Gmail
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚ Employee A      â”‚                 â”‚ [Settings] [Portals]   â”‚          â”‚      â”‚
â”‚ (single tab,    â”‚  [Submit to     â”‚ [Processed] [Dec] ...  â”‚          â”‚      â”‚
â”‚  all months)    â”‚   Queue] â”€â”€â”€â”€â–º  â”‚                        â”‚          â”‚      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚ â€¢ Global Queue         â”‚ â”€Sendâ”€â”€â–º â”‚      â”‚
â”‚ Employee B      â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ â€¢ Invoice Matching     â”‚          â”‚      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚ â€¢ Audit Trail          â”‚          â”‚      â”‚
â”‚ Employee C      â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ â€¢ Employee Registry    â”‚          â””â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
        â–²                                    â”‚ â–²                             â”‚
        â”‚   (via Sheet ID + Row ID)          â”‚ â”‚                             â”‚
        â””â”€â”€â”€â”€ Status sync back â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                             â”‚
                                               â”‚                             â”‚
Google Drive                                   â”‚                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚                             â”‚
â”‚ SEOvoras Files/ â”‚ (owned by Master owner)    â”‚                             â”‚
â”‚  â”œâ”€â”€ Jurgita/   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚  â”œâ”€â”€ Jonas/     â”‚  fetch attachments                                       â”‚
â”‚  â””â”€â”€ Ona/       â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                          â”‚
                                                                             â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
                        â”‚         Cloud Run (Python)         â”‚               â”‚
                        â”‚  â€¢ Queue processor (every 5-10 min)â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚  â€¢ Invoice processor               â”‚  PDF attachments
                        â”‚  â€¢ Gemini 2.5 Flash integration    â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>

            <p>
                <span class="lang-en"><strong>Master Sheet is the single source of truth</strong> for queue processing, invoice matching, and audit trail.</span>
                <span class="lang-lt"><strong>PagrindinÄ— lentelÄ— yra vienintelis tiesos Å¡altinis</strong> eilÄ—s apdorojimui, sÄ…skaitÅ³ suderinimui ir audito pÄ—dsakui.</span>
            </p>
        </section>

        <!-- WORKFLOW SECTION -->
        <section class="standalone">
            <h2>
                <span class="lang-en">Workflow</span>
                <span class="lang-lt">Darbo eiga</span>
            </h2>

            <!-- Step 1 -->
            <div id="step-1" class="step-section">
            <h3>
                <span class="step-num">1</span>
                <span>
                    <span class="lang-en">Article Preparation</span>
                    <span class="lang-lt">Straipsnio ruoÅ¡imas</span>
                </span>
            </h3>
            <p>
                <span class="lang-en">Each employee works in their own Google Sheet (single tab, all months):</span>
                <span class="lang-lt">Kiekvienas darbuotojas dirba savo Google Sheet (vienas lapas, visi mÄ—nesiai):</span>
            </p>
            <ul class="lang-en">
                <li>Fill in article info (title, portal, price, currency, month)</li>
                <li>Upload Word + JPG files to their personal Drive folder</li>
                <li>Set status to "Complete" when ready</li>
            </ul>
            <ul class="lang-lt">
                <li>UÅ¾pildyti straipsnio informacijÄ… (pavadinimas, portalas, kaina, valiuta, mÄ—nuo)</li>
                <li>Ä®kelti Word + JPG failus Ä¯ savo asmeninÄ¯ Drive aplankÄ…</li>
                <li>Nustatyti bÅ«senÄ… "Complete" kai paruoÅ¡ta</li>
            </ul>
            </div>

            <!-- Step 2 -->
            <div id="step-2" class="step-section">
            <h3>
                <span class="step-num">2</span>
                <span>
                    <span class="lang-en">File Matching</span>
                    <span class="lang-lt">FailÅ³ atitikimas</span>
                </span>
            </h3>
            <p>
                <span class="lang-en">Files matched by <strong>fuzzy title matching</strong> (â‰¥95% similarity):</span>
                <span class="lang-lt">Failai suderinami pagal <strong>apytikslÄ¯ pavadinimo atitikimÄ…</strong> (â‰¥95% panaÅ¡umas):</span>
            </p>
            <div class="flow-diagram">
                Title: "Kiek kainuoja saulÄ—s elektrinÄ—?"<br>
                <span class="arrow">  â†“</span> normalize (lowercase, remove punctuation)<br>
                "kiek kainuoja saules elektrine"<br>
                <span class="arrow">  â†“</span> compare to normalized filenames<br>
                File: "30. Kiek kainuoja saulÄ—s elektrinÄ—.docx"<br>
                <span class="arrow">  â†“</span> similarity â‰¥ 95%<br>
                <span class="check">âœ“ Match</span>
            </div>
            <p>
                <span class="lang-en">Both <code>.docx</code> and image (<code>.jpg</code>, <code>.png</code>) must match. If no match â†’ <span class="warning">error, don't send</span>.</span>
                <span class="lang-lt">Abu <code>.docx</code> ir paveikslÄ—lis (<code>.jpg</code>, <code>.png</code>) turi atitikti. Jei nÄ—ra atitikimo â†’ <span class="warning">klaida, nesiÅ³sti</span>.</span>
            </p>
            </div>

            <!-- Step 3 -->
            <div id="step-3" class="step-section">
            <h3>
                <span class="step-num">3</span>
                <span>
                    <span class="lang-en">Queue Submission</span>
                    <span class="lang-lt">Pateikimas eilei</span>
                </span>
            </h3>
            <p>
                <span class="lang-en">Employee clicks <strong>"Submit to Queue"</strong> button:</span>
                <span class="lang-lt">Darbuotojas spaudÅ¾ia <strong>"Submit to Queue"</strong> mygtukÄ…:</span>
            </p>
            <ul class="lang-en">
                <li>Script validates row data (required fields)</li>
                <li>Fuzzy-matches files in Drive folder</li>
                <li>Copies row to Master Sheet with status "Queued"</li>
                <li>Records Source Sheet ID + Source Row ID for sync</li>
            </ul>
            <ul class="lang-lt">
                <li>Skriptas tikrina eilutÄ—s duomenis (privalomus laukus)</li>
                <li>Apytiksliai suderina failus Drive aplanke</li>
                <li>Kopijuoja eilutÄ™ Ä¯ pagrindinÄ™ lentelÄ™ su bÅ«sena "Queued"</li>
                <li>Ä®raÅ¡o Source Sheet ID + Source Row ID sinchronizacijai</li>
            </ul>
            <p>
                <span class="lang-en">This is a <strong>push-based</strong> trigger - explicit employee action, no ambiguity about readiness.</span>
                <span class="lang-lt">Tai <strong>push-based</strong> aktyvatorius - aiÅ¡kus darbuotojo veiksmas, be neaiÅ¡kumÅ³ dÄ—l paruoÅ¡tumo.</span>
            </p>
            </div>

            <!-- Step 4 -->
            <div id="step-4" class="step-section">
            <h3>
                <span class="step-num">4</span>
                <span>
                    <span class="lang-en">Email Sending</span>
                    <span class="lang-lt">LaiÅ¡kÅ³ siuntimas</span>
                </span>
            </h3>
            <p>
                <span class="lang-en">Scheduled job processes Master Sheet queue (Cloud Scheduler, every 5-10 min):</span>
                <span class="lang-lt">Suplanuota uÅ¾duotis apdoroja pagrindinÄ—s lentelÄ—s eilÄ™ (Cloud Scheduler, kas 5-10 min):</span>
            </p>
            <div class="flow-diagram lang-en">
                Find all "Queued" rows (FIFO order)<br>
                <span class="arrow">  â†“</span><br>
                Retrieve files from employee's Drive folder<br>
                <span class="arrow">  â†“</span><br>
                Compose email using template (LT or EN)<br>
                <span class="arrow">  â†“</span><br>
                Send via shared Gmail with attachments<br>
                <span class="arrow">  â†“</span><br>
                Update Master Sheet: status "Sent", timestamp, email link<br>
                <span class="arrow">  â†“</span><br>
                Sync status back to employee sheet
            </div>
            <div class="flow-diagram lang-lt">
                Rasti visas "Queued" eilutes (FIFO tvarka)<br>
                <span class="arrow">  â†“</span><br>
                Gauti failus iÅ¡ darbuotojo Drive aplanko<br>
                <span class="arrow">  â†“</span><br>
                Sudaryti laiÅ¡kÄ… naudojant Å¡ablonÄ… (LT arba EN)<br>
                <span class="arrow">  â†“</span><br>
                SiÅ³sti per bendrÄ… Gmail su priedais<br>
                <span class="arrow">  â†“</span><br>
                Atnaujinti pagrindinÄ™ lentelÄ™: bÅ«sena "Sent", laikas, laiÅ¡ko nuoroda<br>
                <span class="arrow">  â†“</span><br>
                Sinchronizuoti bÅ«senÄ… atgal Ä¯ darbuotojo lentelÄ™
            </div>

            <p>
                <span class="lang-en"><strong>Rate Limiting</strong> (configurable in Settings tab):</span>
                <span class="lang-lt"><strong>Siuntimo ribojimas</strong> (konfigÅ«ruojama Settings skirtuke):</span>
            </p>
            <ul class="lang-en">
                <li>Default: 20-30 emails per hour</li>
                <li>Random pause between each (30-90 sec)</li>
                <li>First month: start slower (10-15/hour)</li>
            </ul>
            <ul class="lang-lt">
                <li>Numatytai: 20-30 laiÅ¡kÅ³ per valandÄ…</li>
                <li>AtsitiktinÄ— pauzÄ— tarp kiekvieno (30-90 sek)</li>
                <li>Pirmas mÄ—nuo: pradÄ—ti lÄ—Äiau (10-15/val)</li>
            </ul>

            <div class="progress-example">
                <span>Queued: <strong>45</strong></span>
                <span>Sent: <strong class="check">12</strong></span>
                <span>Remaining: <strong class="warning">33</strong></span>
            </div>
            </div>

            <!-- Step 5 -->
            <div id="step-5" class="step-section">
            <h3>
                <span class="step-num">5</span>
                <span>
                    <span class="lang-en">Invoice Email Detection</span>
                    <span class="lang-lt">SÄ…skaitÅ³ laiÅ¡kÅ³ aptikimas</span>
                </span>
            </h3>
            <p>
                <span class="lang-en">Scheduled job scans Gmail for invoice candidates:</span>
                <span class="lang-lt">Suplanuota uÅ¾duotis skanuoja Gmail ieÅ¡kodama sÄ…skaitÅ³:</span>
            </p>
            <div class="flow-diagram lang-en">
                Gmail query: "has:attachment filename:pdf -label:SEOvoras-Processed"<br>
                <span class="arrow">  â†“</span><br>
                For each email: check if already in "Processed Emails" tab<br>
                <span class="arrow">  â†“</span><br>
                Download PDF attachment(s)<br>
                <span class="arrow">  â†“</span><br>
                Send to Gemini for classification + extraction<br>
                <span class="arrow">  â†“</span><br>
                Add Gmail label "SEOvoras-Processed"<br>
                <span class="arrow">  â†“</span><br>
                Log to "Processed Emails" tab
            </div>
            <div class="flow-diagram lang-lt">
                Gmail uÅ¾klausa: "has:attachment filename:pdf -label:SEOvoras-Processed"<br>
                <span class="arrow">  â†“</span><br>
                Kiekvienam laiÅ¡kui: patikrinti ar jau yra "Processed Emails" skirtuke<br>
                <span class="arrow">  â†“</span><br>
                AtsisiÅ³sti PDF priedÄ…(-us)<br>
                <span class="arrow">  â†“</span><br>
                SiÅ³sti Gemini klasifikavimui + iÅ¡traukimui<br>
                <span class="arrow">  â†“</span><br>
                PridÄ—ti Gmail etiketÄ™ "SEOvoras-Processed"<br>
                <span class="arrow">  â†“</span><br>
                Ä®raÅ¡yti Ä¯ "Processed Emails" skirtukÄ…
            </div>
            </div>

            <!-- Step 6 -->
            <div id="step-6" class="step-section">
            <h3>
                <span class="step-num">6</span>
                <span>
                    <span class="lang-en">Invoice Processing</span>
                    <span class="lang-lt">SÄ…skaitÅ³ apdorojimas</span>
                </span>
            </h3>
            <p>
                <span class="lang-en"><strong>Gemini 2.5 Flash</strong> - single call to classify and extract:</span>
                <span class="lang-lt"><strong>Gemini 2.5 Flash</strong> - vienas iÅ¡kvietimas klasifikuoti ir iÅ¡traukti:</span>
            </p>
            <ul class="lang-en">
                <li>PDF-native processing (~$0.0007/invoice)</li>
                <li>Returns structured JSON with supplier, line items, totals</li>
                <li>Extracts portal name, quantity, discount %, amounts</li>
                <li>If not an invoice â†’ returns <code>{is_invoice: false}</code></li>
            </ul>
            <ul class="lang-lt">
                <li>Natyvus PDF apdorojimas (~$0.0007/sÄ…skaita)</li>
                <li>GrÄ…Å¾ina struktÅ«rizuotÄ… JSON su tiekÄ—ju, eilutÄ—mis, sumomis</li>
                <li>IÅ¡traukia portalo pavadinimÄ…, kiekÄ¯, nuolaidÄ… %, sumas</li>
                <li>Jei ne sÄ…skaita â†’ grÄ…Å¾ina <code>{is_invoice: false}</code></li>
            </ul>
            </div>

            <!-- Step 7 -->
            <div id="step-7" class="step-section">
            <h3>
                <span class="step-num">7</span>
                <span>
                    <span class="lang-en">Invoice Matching</span>
                    <span class="lang-lt">SÄ…skaitÅ³ suderinimas</span>
                </span>
            </h3>
            <p>
                <span class="lang-en">Invoices matched at <strong>portal level</strong> (not individual articles):</span>
                <span class="lang-lt">SÄ…skaitos suderinamos <strong>portalo lygmeniu</strong> (ne atskirÅ³ straipsniÅ³):</span>
            </p>
            <div class="flow-diagram">
                Invoice line: Ulac.lt, 7 vnt, â‚¬250.25<br>
                <span class="arrow">  â†“</span><br>
                Search Master Sheet: Portal = "Ulac.lt" AND Status = "Sent"<br>
                <span class="arrow">  â†“</span><br>
                Found 7 rows from 3 employees:<br>
                &nbsp;&nbsp;Jurgita: 4 Ã— â‚¬35.75 = â‚¬143.00<br>
                &nbsp;&nbsp;Jonas:   2 Ã— â‚¬35.75 = â‚¬71.50<br>
                &nbsp;&nbsp;Ona:     1 Ã— â‚¬35.75 = â‚¬35.75<br>
                &nbsp;&nbsp;Total: â‚¬250.25 <span class="check">âœ“</span><br>
                <span class="arrow">  â†“</span><br>
                Mark all 7 rows: Status = "Invoice Received"<br>
                <span class="arrow">  â†“</span><br>
                Sync status back to each employee's sheet
            </div>
            <p>
                <span class="lang-en">If count or amount mismatch â†’ <span class="warning">"Manual Review Required"</span></span>
                <span class="lang-lt">Jei kiekis arba suma nesutampa â†’ <span class="warning">"Manual Review Required"</span></span>
            </p>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- DATA STRUCTURE SECTION -->
        <section class="standalone">
            <h2>
                <span class="lang-en">Data Structure</span>
                <span class="lang-lt">DuomenÅ³ struktÅ«ra</span>
            </h2>

            <h3>
                <span class="lang-en">Master Sheet Tabs</span>
                <span class="lang-lt">PagrindinÄ—s lentelÄ—s skirtukai</span>
            </h3>
            <ul class="lang-en">
                <li><strong>Settings</strong> - Employee registry, rate limiting, system config</li>
                <li><strong>Portals</strong> - Portal contact lookup (email for sending, invoice email)</li>
                <li><strong>Monthly tabs</strong> - December, January, etc. (the queue)</li>
                <li><strong>Processed Emails</strong> - Tracks processed email IDs (backup to Gmail labels)</li>
            </ul>
            <ul class="lang-lt">
                <li><strong>Settings</strong> - DarbuotojÅ³ registras, siuntimo ribojimas, sistemos konfigÅ«racija</li>
                <li><strong>Portals</strong> - PortalÅ³ kontaktÅ³ paieÅ¡ka (siuntimo el. paÅ¡tas, sÄ…skaitÅ³ el. paÅ¡tas)</li>
                <li><strong>MÄ—nesiniai skirtukai</strong> - Gruodis, Sausis ir t.t. (eilÄ—)</li>
                <li><strong>Processed Emails</strong> - Seka apdorotÅ³ laiÅ¡kÅ³ ID (atsarginÄ— kopija Gmail etiketÄ—ms)</li>
            </ul>

            <h3>
                <span class="lang-en">Settings Tab - Employee Registry</span>
                <span class="lang-lt">Settings skirtukas - DarbuotojÅ³ registras</span>
            </h3>
            <table>
                <thead>
                    <tr>
                        <th>
                            <span class="lang-en">Column</span>
                            <span class="lang-lt">Stulpelis</span>
                        </th>
                        <th>
                            <span class="lang-en">Description</span>
                            <span class="lang-lt">ApraÅ¡ymas</span>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Employee Name</td>
                        <td>
                            <span class="lang-en">Display name</span>
                            <span class="lang-lt">Rodomas vardas</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Email</td>
                        <td>
                            <span class="lang-en">Employee email (for sharing)</span>
                            <span class="lang-lt">Darbuotojo el. paÅ¡tas (bendrinimui)</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Sheet ID</td>
                        <td>
                            <span class="lang-en">(auto) - filled by onboarding script</span>
                            <span class="lang-lt">(auto) - uÅ¾pildoma prisijungimo skripto</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Folder ID</td>
                        <td>
                            <span class="lang-en">(auto) - filled by onboarding script</span>
                            <span class="lang-lt">(auto) - uÅ¾pildoma prisijungimo skripto</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Active</td>
                        <td>
                            <span class="lang-en">Checkbox - uncheck to deactivate</span>
                            <span class="lang-lt">Å½ymimasis langelis - nuimti kad deaktyvuoti</span>
                        </td>
                    </tr>
                </tbody>
            </table>

            <h3>
                <span class="lang-en">Automated Employee Onboarding</span>
                <span class="lang-lt">Automatizuotas darbuotojÅ³ prijungimas</span>
            </h3>
            <p>
                <span class="lang-en">Owner clicks <strong>"Setup New Employees"</strong> button. Script finds rows where Active = âœ“ but Sheet ID is empty:</span>
                <span class="lang-lt">Savininkas spaudÅ¾ia <strong>"Setup New Employees"</strong> mygtukÄ…. Skriptas randa eilutes kur Active = âœ“ bet Sheet ID tuÅ¡Äias:</span>
            </p>
            <div class="flow-diagram lang-en">
                For each new employee:<br>
                <span class="arrow">  1.</span> Create subfolder: "SEOvoras Files/{Name}/"<br>
                <span class="arrow">  2.</span> Create Employee Sheet from template<br>
                <span class="arrow">  3.</span> Share folder with employee (Editor)<br>
                <span class="arrow">  4.</span> Share sheet with employee (Editor)<br>
                <span class="arrow">  5.</span> Fill in Sheet ID and Folder ID<br>
                <span class="arrow">  6.</span> Show confirmation toast
            </div>
            <div class="flow-diagram lang-lt">
                Kiekvienam naujam darbuotojui:<br>
                <span class="arrow">  1.</span> Sukurti poaplankÄ¯: "SEOvoras Files/{Vardas}/"<br>
                <span class="arrow">  2.</span> Sukurti darbuotojo lentelÄ™ iÅ¡ Å¡ablono<br>
                <span class="arrow">  3.</span> Bendrinti aplankÄ… su darbuotoju (Redaktorius)<br>
                <span class="arrow">  4.</span> Bendrinti lentelÄ™ su darbuotoju (Redaktorius)<br>
                <span class="arrow">  5.</span> UÅ¾pildyti Sheet ID ir Folder ID<br>
                <span class="arrow">  6.</span> Parodyti patvirtinimo praneÅ¡imÄ…
            </div>
            <p>
                <span class="lang-en"><strong>All assets owned by Master Sheet owner</strong> - consistent permissions, centralized control.</span>
                <span class="lang-lt"><strong>Visi iÅ¡tekliai priklauso pagrindinÄ—s lentelÄ—s savininkui</strong> - nuoseklÅ«s leidimai, centralizuota kontrolÄ—.</span>
            </p>

            <h3>
                <span class="lang-en">Employee Sheet</span>
                <span class="lang-lt">Darbuotojo lentelÄ—</span>
            </h3>
            <table>
                <thead>
                    <tr>
                        <th>
                            <span class="lang-en">Column</span>
                            <span class="lang-lt">Stulpelis</span>
                        </th>
                        <th>
                            <span class="lang-en">Editable</span>
                            <span class="lang-lt">Redaguojama</span>
                        </th>
                        <th>
                            <span class="lang-en">Description</span>
                            <span class="lang-lt">ApraÅ¡ymas</span>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Row ID</td>
                        <td>
                            <span class="lang-en">locked</span>
                            <span class="lang-lt">uÅ¾rakinta</span>
                        </td>
                        <td>
                            <span class="lang-en">Auto-generated unique ID for sync</span>
                            <span class="lang-lt">AutomatiÅ¡kai sugeneruotas unikalus ID sinchronizacijai</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Month</td>
                        <td>
                            <span class="lang-en">yes</span>
                            <span class="lang-lt">taip</span>
                        </td>
                        <td>
                            <span class="lang-en">Target month (dropdown)</span>
                            <span class="lang-lt">Tikslinis mÄ—nuo (iÅ¡skleidÅ¾iamas)</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Title</td>
                        <td>
                            <span class="lang-en">yes</span>
                            <span class="lang-lt">taip</span>
                        </td>
                        <td>
                            <span class="lang-en">Article title (fuzzy-matched to files)</span>
                            <span class="lang-lt">Straipsnio pavadinimas (apytiksliai suderinamas su failais)</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Portal</td>
                        <td>
                            <span class="lang-en">yes</span>
                            <span class="lang-lt">taip</span>
                        </td>
                        <td>
                            <span class="lang-en">Publisher name (dropdown)</span>
                            <span class="lang-lt">LeidÄ—jo pavadinimas (iÅ¡skleidÅ¾iamas)</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Price</td>
                        <td>
                            <span class="lang-en">yes</span>
                            <span class="lang-lt">taip</span>
                        </td>
                        <td>
                            <span class="lang-en">Article price (before discount)</span>
                            <span class="lang-lt">Straipsnio kaina (prieÅ¡ nuolaidÄ…)</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Currency</td>
                        <td>
                            <span class="lang-en">yes</span>
                            <span class="lang-lt">taip</span>
                        </td>
                        <td>
                            <span class="lang-en">EUR, USD, PLN (dropdown)</span>
                            <span class="lang-lt">EUR, USD, PLN (iÅ¡skleidÅ¾iamas)</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Status</td>
                        <td>
                            <span class="lang-en">locked</span>
                            <span class="lang-lt">uÅ¾rakinta</span>
                        </td>
                        <td>Draft â†’ Complete â†’ Queued â†’ Sent â†’ Invoice</td>
                    </tr>
                    <tr>
                        <td>Sent At</td>
                        <td>
                            <span class="lang-en">locked</span>
                            <span class="lang-lt">uÅ¾rakinta</span>
                        </td>
                        <td>
                            <span class="lang-en">Auto-filled after sending</span>
                            <span class="lang-lt">AutomatiÅ¡kai uÅ¾pildoma po siuntimo</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Email Link</td>
                        <td>
                            <span class="lang-en">locked</span>
                            <span class="lang-lt">uÅ¾rakinta</span>
                        </td>
                        <td>
                            <span class="lang-en">Direct Gmail link, auto-filled</span>
                            <span class="lang-lt">TiesioginÄ— Gmail nuoroda, automatiÅ¡kai uÅ¾pildoma</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Invoice #</td>
                        <td>
                            <span class="lang-en">locked</span>
                            <span class="lang-lt">uÅ¾rakinta</span>
                        </td>
                        <td>
                            <span class="lang-en">Auto-filled after matching</span>
                            <span class="lang-lt">AutomatiÅ¡kai uÅ¾pildoma po suderinimo</span>
                        </td>
                    </tr>
                </tbody>
            </table>

            <h3>
                <span class="lang-en">Portals Tab</span>
                <span class="lang-lt">Portals skirtukas</span>
            </h3>
            <table>
                <thead>
                    <tr>
                        <th>Portal</th>
                        <th>
                            <span class="lang-en">Email for Sending</span>
                            <span class="lang-lt">El. paÅ¡tas siuntimui</span>
                        </th>
                        <th>
                            <span class="lang-en">Invoice Email</span>
                            <span class="lang-lt">SÄ…skaitÅ³ el. paÅ¡tas</span>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Ulac.lt</td>
                        <td>editor@ulac.lt</td>
                        <td>accounting@ulac.lt</td>
                    </tr>
                    <tr>
                        <td>Foodout.lt</td>
                        <td>info@foodout.lt</td>
                        <td>info@foodout.lt</td>
                    </tr>
                    <tr>
                        <td>Nezinau.lt</td>
                        <td>redakcija@nezinau.lt</td>
                        <td>buhalterija@nezinau.lt</td>
                    </tr>
                </tbody>
            </table>
            <p>
                <span class="lang-en">Discount % is extracted from each invoice by Gemini (varies by order volume, agreements).</span>
                <span class="lang-lt">Nuolaidos % iÅ¡traukiama iÅ¡ kiekvienos sÄ…skaitos Gemini (priklauso nuo uÅ¾sakymo apimties, susitarimÅ³).</span>
            </p>
        </section>

        <!-- TECH STACK SECTION -->
        <section class="standalone">
            <h2>
                <span class="lang-en">Tech Stack</span>
                <span class="lang-lt">Technologijos</span>
            </h2>

            <div class="tech-grid">
                <div class="tech-item">
                    <div class="icon">ğŸ</div>
                    <div>Python</div>
                    <small>Backend</small>
                </div>
                <div class="tech-item">
                    <div class="icon">ğŸ“œ</div>
                    <div>Apps Script</div>
                    <small>
                        <span class="lang-en">Sheet buttons, validation</span>
                        <span class="lang-lt">LentelÄ—s mygtukai, validacija</span>
                    </small>
                </div>
                <div class="tech-item">
                    <div class="icon">â˜ï¸</div>
                    <div>Cloud Run</div>
                    <small>
                        <span class="lang-en">Serverless hosting</span>
                        <span class="lang-lt">Serverless talpinimas</span>
                    </small>
                </div>
                <div class="tech-item">
                    <div class="icon">â°</div>
                    <div>Cloud Scheduler</div>
                    <small>
                        <span class="lang-en">Queue triggers</span>
                        <span class="lang-lt">EilÄ—s aktyvatoriai</span>
                    </small>
                </div>
                <div class="tech-item">
                    <div class="icon">ğŸ“Š</div>
                    <div>Google Workspace</div>
                    <small>Gmail, Sheets, Drive</small>
                </div>
                <div class="tech-item">
                    <div class="icon">ğŸ¤–</div>
                    <div>Gemini 2.5 Flash</div>
                    <small>
                        <span class="lang-en">Invoice processing</span>
                        <span class="lang-lt">SÄ…skaitÅ³ apdorojimas</span>
                    </small>
                </div>
                <div class="tech-item">
                    <div class="icon">ğŸ”</div>
                    <div>OAuth</div>
                    <small>
                        <span class="lang-en">Authentication</span>
                        <span class="lang-lt">Autentifikacija</span>
                    </small>
                </div>
            </div>

            <h3>
                <span class="lang-en">Monthly Cost</span>
                <span class="lang-lt">MÄ—nesinÄ— kaina</span>
            </h3>
            <table>
                <thead>
                    <tr>
                        <th>
                            <span class="lang-en">Component</span>
                            <span class="lang-lt">Komponentas</span>
                        </th>
                        <th>
                            <span class="lang-en">Cost</span>
                            <span class="lang-lt">Kaina</span>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Google Workspace (1 user)</td>
                        <td>â‚¬6-12</td>
                    </tr>
                    <tr>
                        <td>Google Cloud (Run + Scheduler)</td>
                        <td>â‚¬0-2</td>
                    </tr>
                    <tr>
                        <td>Gemini API (~100 invoices)</td>
                        <td>~â‚¬0.07</td>
                    </tr>
                </tbody>
            </table>

            <div class="cost-total">
                <span class="lang-en">Total: ~â‚¬6-14/month</span>
                <span class="lang-lt">Viso: ~â‚¬6-14/mÄ—n.</span>
            </div>
        </section>

        <!-- STATUS SECTION -->
        <section>
            <h2>
                <span class="lang-en">Status</span>
                <span class="lang-lt">BÅ«sena</span>
            </h2>
            <p style="text-align: center; padding: 20px;">
                <span class="status-badge status-ready">
                    <span class="lang-en">Sample data received</span>
                    <span class="lang-lt">Pavyzdiniai duomenys gauti</span>
                </span>
            </p>
            <p style="text-align: center;">
                <span class="lang-en">Ready to build prototype</span>
                <span class="lang-lt">ParuoÅ¡ta kurti prototipÄ…</span>
            </p>
        </section>

        <footer>
            <p>SEOvoras &copy; 2025</p>
        </footer>
    </div>

    <script>
        function setLang(lang) {
            document.body.classList.remove('show-en', 'show-lt');
            document.body.classList.add('show-' + lang);

            document.getElementById('btn-en').classList.remove('active');
            document.getElementById('btn-lt').classList.remove('active');
            document.getElementById('btn-' + lang).classList.add('active');

            // Save preference
            localStorage.setItem('seovoras-lang', lang);

            // Update page title
            if (lang === 'lt') {
                document.title = 'SEOvoras - StraipsniÅ³ pateikimo automatizavimas';
            } else {
                document.title = 'SEOvoras - Article Submission Automation';
            }
        }

        // Load saved preference or detect browser language
        document.addEventListener('DOMContentLoaded', function() {
            var savedLang = localStorage.getItem('seovoras-lang');
            if (savedLang) {
                setLang(savedLang);
            } else {
                // Detect browser language
                var browserLang = navigator.language || navigator.userLanguage;
                if (browserLang.startsWith('lt')) {
                    setLang('lt');
                }
            }
        });
    </script>
</body>
</html>
